(self.webpackChunkcart=self.webpackChunkcart||[]).push([[4584],{4584:(ot,H,v)=>{v.r(H),v.d(H,{AkitaCartQuery:()=>tt,AkitaCartStore:()=>B,CardComponent:()=>E,CartService:()=>N,CartStoreService:()=>U,CustomButtonComponent:()=>$,DateOnlyPipe:()=>K,FormatPricePipe:()=>Z,HilighterDirective:()=>W,ProductService:()=>Y,addToCart:()=>z,cartReducer:()=>et,initialCartState:()=>G,normalizeImages:()=>q,removeFromCart:()=>T,selectCartFeature:()=>x,selectCartItemCount:()=>nt,selectCartItems:()=>rt});var s=v(9516),D=v(4866),S=v(5744),j=v(7313),I=v(3037),O=v(2905),A=v(8754),V=v(4931),J=v(1635),F=v(2738),g=v(5217);const k=[[["","card-header",""]],[["","card-body",""]],[["","card-actions",""]]],X=["[card-header]","[card-body]","[card-actions]"];function R(i,b){if(1&i&&s.\u0275\u0275element(0,"img",2),2&i){const c=s.\u0275\u0275nextContext();s.\u0275\u0275property("src",c.product.images[0],s.\u0275\u0275sanitizeUrl)}}let Y=(()=>{class i{http;apiUrl="https://api.escuelajs.co/api/v1/products";uploadApiUrl="https://api.escuelajs.co/api/v1/files/upload";addProductApiUrl="https://api.escuelajs.co/api/v1/products/";deleteProductApiUrl=c=>`https://api.escuelajs.co/api/v1/products/${c}`;updateProductApiUrl=c=>`https://api.escuelajs.co/api/v1/products/${c}`;productsUpdated=new D.BehaviorSubject(void 0);constructor(c){this.http=c}getProducts(){return this.http.get(this.apiUrl)}addProduct(c){return this.http.post(this.addProductApiUrl,c).pipe((0,D.tap)(()=>this.productsUpdated.next()))}deleteProduct(c){return this.http.delete(this.deleteProductApiUrl(c)).pipe((0,D.tap)(()=>this.productsUpdated.next()))}updateProduct(c,l){return this.http.put(this.updateProductApiUrl(c),l).pipe((0,D.tap)(()=>this.productsUpdated.next()))}uploadImage(c){const l=new FormData;l.append("file",c);const m=(new S.HttpHeaders).set("enctype","multipart/form-data");return this.http.post(this.uploadApiUrl,l,{headers:m})}onProductsUpdated(){return this.productsUpdated.asObservable()}static \u0275fac=function(l){return new(l||i)(s.\u0275\u0275inject(S.HttpClient))};static \u0275prov=s.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),U=(()=>{class i{cart=(0,s.signal)([]);getCartItems=(0,s.computed)(()=>this.cart());getCartItemCount=(0,s.computed)(()=>this.cart().length);addToCart(c){const l=this.cart();this.cart.set([...l,c])}removeFromCart(c){const m=this.cart().filter(t=>t.id!==c.id);this.cart.set(m)}static \u0275fac=function(l){return new(l||i)};static \u0275prov=s.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),K=(()=>{class i{transform(c){return c?new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}):""}static \u0275fac=function(l){return new(l||i)};static \u0275pipe=s.\u0275\u0275definePipe({name:"dateOnly",type:i,pure:!0})}return i})(),Z=(()=>{class i{transform(c,l="\u20b9"){return c?`${l} ${c}`:""}static \u0275fac=function(l){return new(l||i)};static \u0275pipe=s.\u0275\u0275definePipe({name:"formatPrice",type:i,pure:!1})}return i})();const q=i=>{if(1===i.length&&"string"==typeof i[0]&&i[0].startsWith('["'))try{const b=JSON.parse(i[0]);return Array.isArray(b)?b:[]}catch(b){return console.error("Failed to parse images:",b),[]}return i};let W=(()=>{class i{el;renderer;constructor(c,l){this.el=c,this.renderer=l}onMouseEnter(){this.setElevation("10px 10px 20px rgba(0, 0, 0, 0.25)","scale(1.05)")}onMouseLeave(){this.setElevation("none","scale(1)")}setElevation(c,l){this.renderer.setStyle(this.el.nativeElement,"boxShadow",c),this.renderer.setStyle(this.el.nativeElement,"transform",l),this.renderer.setStyle(this.el.nativeElement,"transition","0.3s ease-in-out")}static \u0275fac=function(l){return new(l||i)(s.\u0275\u0275directiveInject(s.ElementRef),s.\u0275\u0275directiveInject(s.Renderer2))};static \u0275dir=s.\u0275\u0275defineDirective({type:i,selectors:[["","appHilighter",""]],hostBindings:function(l,m){1&l&&s.\u0275\u0275listener("mouseenter",function(){return m.onMouseEnter()})("mouseleave",function(){return m.onMouseLeave()})}})}return i})(),E=(()=>{class i{product={};isProductInCart=!1;addToCart=new s.EventEmitter;removeFromCart=new s.EventEmitter;onAddToCart(){this.addToCart.emit(this.product)}onRemoveFromCart(){this.removeFromCart.emit(this.product)}static \u0275fac=function(l){return new(l||i)};static \u0275cmp=s.\u0275\u0275defineComponent({type:i,selectors:[["shared-app-card"]],inputs:{product:"product",isProductInCart:"isProductInCart"},outputs:{addToCart:"addToCart",removeFromCart:"removeFromCart"},ngContentSelectors:X,decls:7,vars:1,consts:[["appHilighter","","appearance","outlined"],["mat-card-image","",3,"src",4,"ngIf"],["mat-card-image","",3,"src"]],template:function(l,m){1&l&&(s.\u0275\u0275projectionDef(k),s.\u0275\u0275elementStart(0,"mat-card",0),s.\u0275\u0275projection(1),s.\u0275\u0275template(2,R,1,1,"img",1),s.\u0275\u0275elementStart(3,"mat-card-content"),s.\u0275\u0275projection(4,1),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(5,"mat-card-actions"),s.\u0275\u0275projection(6,2),s.\u0275\u0275elementEnd()()),2&l&&(s.\u0275\u0275advance(2),s.\u0275\u0275property("ngIf",null==m.product||null==m.product.images?null:m.product.images.length))},dependencies:[I.MatButtonModule,O.MatCardModule,O.MatCard,O.MatCardActions,O.MatCardContent,O.MatCardImage,j.CommonModule,j.NgIf,A.RouterModule,V.MatTooltipModule,W],styles:["mat-card[_ngcontent-%COMP%]{display:flex;align-items:center}img[_ngcontent-%COMP%]{width:250px;height:250px;padding:1rem}"]})}return i})(),$=(()=>{class i{label="Click Me";disabled=!1;buttonClass="";route="";clicked=new s.EventEmitter;onClick(){this.clicked.emit()}static \u0275fac=function(l){return new(l||i)};static \u0275cmp=s.\u0275\u0275defineComponent({type:i,selectors:[["custom-button"]],inputs:{label:"label",disabled:"disabled",buttonClass:"buttonClass",route:"route"},outputs:{clicked:"clicked"},decls:2,vars:4,consts:[["mat-button","",3,"click","ngClass","disabled","routerLink"]],template:function(l,m){1&l&&(s.\u0275\u0275elementStart(0,"button",0),s.\u0275\u0275listener("click",function(){return m.onClick()}),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),2&l&&(s.\u0275\u0275property("ngClass",m.buttonClass)("disabled",m.disabled)("routerLink",m.route),s.\u0275\u0275advance(),s.\u0275\u0275textInterpolate1(" ",m.label,"\n"))},dependencies:[I.MatButtonModule,I.MatButton,j.CommonModule,j.NgClass,A.RouterModule,A.RouterLink],styles:[".primary[_ngcontent-%COMP%]{color:#fff;background-color:#1976d2}.secondary[_ngcontent-%COMP%]{color:#000;background-color:#e0e0e0}.danger[_ngcontent-%COMP%]{color:#fff!important;background-color:#843b3b!important}"]})}return i})(),B=(()=>{let i=class Q extends F.EntityStore{constructor(){super()}static \u0275fac=function(l){return new(l||Q)};static \u0275prov=s.\u0275\u0275defineInjectable({token:Q,factory:Q.\u0275fac,providedIn:"root"})};return i=(0,J.Cg)([(0,F.StoreConfig)({name:"Akita-cart"})],i),i})(),N=(()=>{class i{cartStore;constructor(c){this.cartStore=c}addToCart(c){this.cartStore.add(c)}removeFromCart(c){this.cartStore.remove(c)}static \u0275fac=function(l){return new(l||i)(s.\u0275\u0275inject(B))};static \u0275prov=s.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),tt=(()=>{class i extends F.QueryEntity{constructor(){super((0,s.inject)(B))}getCartItems$=this.selectAll();getCartItemCount$=this.selectCount();static \u0275fac=function(l){return new(l||i)};static \u0275prov=s.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const z=(0,g.createAction)("[Cart] Add Item",(0,g.props)()),T=(0,g.createAction)("[Cart] Remove Item",(0,g.props)()),G={cartItems:[]},et=(0,g.createReducer)(G,(0,g.on)(z,(i,{product:b})=>({...i,cartItems:[...i.cartItems,b]})),(0,g.on)(T,(i,{productId:b})=>({...i,cartItems:i.cartItems.filter(c=>c.id!==b)}))),x=(0,g.createFeatureSelector)("cart"),rt=(0,g.createSelector)(x,i=>i.cartItems),nt=(0,g.createSelector)(x,i=>i.cartItems.length)},1635:(ot,H,v)=>{function I(t,e,r,n){var u,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var f=t.length-1;f>=0;f--)(u=t[f])&&(o=(a<3?u(o):a>3?u(e,r,o):u(e,r))||o);return a>3&&o&&Object.defineProperty(e,r,o),o}function g(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function k(t,e,r,n){return new(r||(r=Promise))(function(o,u){function f(y){try{d(n.next(y))}catch(h){u(h)}}function _(y){try{d(n.throw(y))}catch(h){u(h)}}function d(y){y.done?o(y.value):function a(o){return o instanceof r?o:new r(function(u){u(o)})}(y.value).then(f,_)}d((n=n.apply(t,e||[])).next())})}function E(t){return this instanceof E?(this.v=t,this):new E(t)}function $(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,n=r.apply(t,e||[]),o=[];return a=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",function u(p){return function(C){return Promise.resolve(C).then(p,h)}}),a[Symbol.asyncIterator]=function(){return this},a;function f(p,C){n[p]&&(a[p]=function(w){return new Promise(function(P,M){o.push([p,w,P,M])>1||_(p,w)})},C&&(a[p]=C(a[p])))}function _(p,C){try{!function d(p){p.value instanceof E?Promise.resolve(p.value.v).then(y,h):L(o[0][2],p)}(n[p](C))}catch(w){L(o[0][3],w)}}function y(p){_("next",p)}function h(p){_("throw",p)}function L(p,C){p(C),o.shift(),o.length&&_(o[0][0],o[0][1])}}function N(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function U(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(u){return new Promise(function(f,_){!function a(o,u,f,_){Promise.resolve(_).then(function(d){o({value:d,done:f})},u)}(f,_,(u=t[o](u)).done,u.value)})}}}v.d(H,{AQ:()=>$,Cg:()=>I,N3:()=>E,Sn:()=>g,sH:()=>k,xN:()=>N}),"function"==typeof SuppressedError&&SuppressedError}}]);