(self.webpackChunkcart=self.webpackChunkcart||[]).push([[5789,8170],{8170:(d,c,n)=>{n.r(c),n.d(c,{SharedResizeObserver:()=>a});var i=n(9516),b=n(4866),_=n(2778);class l{_box;_destroyed=new b.Subject;_resizeSubject=new b.Subject;_resizeObserver;_elementObservables=new Map;constructor(s){this._box=s,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(s){return this._elementObservables.has(s)||this._elementObservables.set(s,new b.Observable(e=>{const t=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(s,{box:this._box}),()=>{this._resizeObserver?.unobserve(s),t.unsubscribe(),this._elementObservables.delete(s)}}).pipe((0,_.filter)(e=>e.some(t=>t.target===s)),(0,_.shareReplay)({bufferSize:1,refCount:!0}),(0,_.takeUntil)(this._destroyed))),this._elementObservables.get(s)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let a=(()=>{class r{_cleanupErrorListener;_observers=new Map;_ngZone=(0,i.inject)(i.NgZone);constructor(){}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(e,t){const o=t?.box||"content-box";return this._observers.has(o)||this._observers.set(o,new l(o)),this._observers.get(o).observe(e)}static \u0275fac=function(t){return new(t||r)};static \u0275prov=i.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})()}}]);