(self.webpackChunkcart=self.webpackChunkcart||[]).push([[34],{34:(g,u,a)=>{a.r(u),a.d(u,{AppComponent:()=>h});var C=a(6490),p=a(9516);let h=(()=>{class i{title="cart";static \u0275fac=function(M){return new(M||i)};static \u0275cmp=p.\u0275\u0275defineComponent({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(M,_){1&M&&p.\u0275\u0275element(0,"cart-table")},dependencies:[C.G],encapsulation:2})}return i})()},6490:(g,u,a)=>{a.d(u,{G:()=>L});var C=a(7313),f=a(3037),i=a(4209),c=a(9417),_=a(3418),o=a(2313),E=a(451),s=a(9325),t=a(9516),D=a(5217);const P=()=>[5,10,20];function O(e,r){1&e&&(t.\u0275\u0275elementStart(0,"th",19),t.\u0275\u0275text(1," Product Name "),t.\u0275\u0275elementEnd())}function T(e,r){if(1&e&&(t.\u0275\u0275elementStart(0,"td",20),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&e){const n=r.$implicit;t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.title," ")}}function v(e,r){1&e&&(t.\u0275\u0275elementStart(0,"th",21),t.\u0275\u0275text(1," Description "),t.\u0275\u0275elementEnd())}function S(e,r){if(1&e&&(t.\u0275\u0275elementStart(0,"td",22),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&e){const n=r.$implicit;t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.description," ")}}function y(e,r){1&e&&(t.\u0275\u0275elementStart(0,"th",23),t.\u0275\u0275text(1," Price "),t.\u0275\u0275elementEnd())}function I(e,r){if(1&e&&(t.\u0275\u0275elementStart(0,"td",24),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&e){const n=r.$implicit;t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.price," ")}}function x(e,r){1&e&&(t.\u0275\u0275elementStart(0,"th",19),t.\u0275\u0275text(1," Created At "),t.\u0275\u0275elementEnd())}function b(e,r){if(1&e&&(t.\u0275\u0275elementStart(0,"td",20),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&e){const n=r.$implicit;t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.creationAt," ")}}function A(e,r){1&e&&(t.\u0275\u0275elementStart(0,"th",25),t.\u0275\u0275text(1,"Actions"),t.\u0275\u0275elementEnd())}function R(e,r){if(1&e){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"td",26)(1,"button",27)(2,"mat-icon"),t.\u0275\u0275text(3,"more_vert"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(4,"mat-menu",null,0)(6,"button",28),t.\u0275\u0275listener("click",function(){const m=t.\u0275\u0275restoreView(n).$implicit,d=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(d.removeFromCart(m))}),t.\u0275\u0275elementStart(7,"mat-icon"),t.\u0275\u0275text(8,"close"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"span"),t.\u0275\u0275text(10,"Remove"),t.\u0275\u0275elementEnd()()()()}if(2&e){const n=t.\u0275\u0275reference(5);t.\u0275\u0275advance(),t.\u0275\u0275property("matMenuTriggerFor",n)}}function w(e,r){1&e&&t.\u0275\u0275element(0,"tr",29)}function B(e,r){1&e&&t.\u0275\u0275element(0,"tr",30)}let L=(()=>{class e{cartService;cartQuery;cartAkitaService;store;displayedColumns=["title","description","price","creationAt","Actions"];dataSource=new o.MatTableDataSource([]);sort;paginator;constructor(n,l,m,d){this.cartService=n,this.cartQuery=l,this.cartAkitaService=m,this.store=d}ngOnInit(){this.cartQuery.getCartItems$.subscribe(n=>{this.dataSource.data=n}),this.store.select(_.selectCartItems).subscribe(n=>{this.dataSource.data=n})}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}removeFromCart(n){this.store.dispatch((0,_.removeFromCart)({productId:n.id}))}static \u0275fac=function(l){return new(l||e)(t.\u0275\u0275directiveInject(_.CartStoreService),t.\u0275\u0275directiveInject(_.AkitaCartQuery),t.\u0275\u0275directiveInject(_.CartService),t.\u0275\u0275directiveInject(D.Store))};static \u0275cmp=t.\u0275\u0275defineComponent({type:e,selectors:[["cart-table"]],viewQuery:function(l,m){if(1&l&&(t.\u0275\u0275viewQuery(s.MatSort,5),t.\u0275\u0275viewQuery(E.MatPaginator,5)),2&l){let d;t.\u0275\u0275queryRefresh(d=t.\u0275\u0275loadQuery())&&(m.sort=d.first),t.\u0275\u0275queryRefresh(d=t.\u0275\u0275loadQuery())&&(m.paginator=d.first)}},decls:20,vars:7,consts:[["menu","matMenu"],[1,"table-card"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","","mat-sort-header","","style","width: 20%",4,"matHeaderCellDef"],["mat-cell","","style","width: 20%",4,"matCellDef"],["matColumnDef","description"],["mat-header-cell","","mat-sort-header","","style","width: 60%",4,"matHeaderCellDef"],["mat-cell","","style","width: 60%",4,"matCellDef"],["matColumnDef","price"],["mat-header-cell","","mat-sort-header","","style","width: 10%",4,"matHeaderCellDef"],["mat-cell","","style","width: 10%",4,"matCellDef"],["matColumnDef","creationAt"],["matColumnDef","Actions"],["mat-header-cell","","style","width: 25%",4,"matHeaderCellDef"],["mat-cell","","style","width: 25%",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"sticky-paginator",3,"pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header","",2,"width","20%"],["mat-cell","",2,"width","20%"],["mat-header-cell","","mat-sort-header","",2,"width","60%"],["mat-cell","",2,"width","60%"],["mat-header-cell","","mat-sort-header","",2,"width","10%"],["mat-cell","",2,"width","10%"],["mat-header-cell","",2,"width","25%"],["mat-cell","",2,"width","25%"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(l,m){1&l&&(t.\u0275\u0275elementStart(0,"div",1)(1,"table",2),t.\u0275\u0275elementContainerStart(2,3),t.\u0275\u0275template(3,O,2,0,"th",4)(4,T,2,1,"td",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(5,6),t.\u0275\u0275template(6,v,2,0,"th",7)(7,S,2,1,"td",8),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(8,9),t.\u0275\u0275template(9,y,2,0,"th",10)(10,I,2,1,"td",11),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(11,12),t.\u0275\u0275template(12,x,2,0,"th",4)(13,b,2,1,"td",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(14,13),t.\u0275\u0275template(15,A,2,0,"th",14)(16,R,11,1,"td",15),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(17,w,1,0,"tr",16)(18,B,1,0,"tr",17),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(19,"mat-paginator",18),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275advance(),t.\u0275\u0275property("dataSource",m.dataSource),t.\u0275\u0275advance(16),t.\u0275\u0275property("matHeaderRowDef",m.displayedColumns)("matHeaderRowDefSticky",!0),t.\u0275\u0275advance(),t.\u0275\u0275property("matRowDefColumns",m.displayedColumns),t.\u0275\u0275advance(),t.\u0275\u0275property("pageSize",5)("pageSizeOptions",t.\u0275\u0275pureFunction0(6,P)))},dependencies:[o.MatTableModule,o.MatTable,o.MatHeaderCellDef,o.MatHeaderRowDef,o.MatColumnDef,o.MatCellDef,o.MatRowDef,o.MatHeaderCell,o.MatCell,o.MatHeaderRow,o.MatRow,C.CommonModule,s.MatSortModule,s.MatSort,s.MatSortHeader,E.MatPaginatorModule,E.MatPaginator,c.MatMenuModule,c.MatMenu,c.MatMenuItem,c.MatMenuTrigger,i.MatIconModule,i.MatIcon,f.MatButtonModule,f.MatIconButton],styles:[".table-card[_ngcontent-%COMP%]{border-radius:1rem;background-color:#fff!important;box-shadow:0 4px 8px #0000001a,0 2px 4px #0000000f;overflow:hidden;padding-top:1rem;margin:2rem}table[_ngcontent-%COMP%]{overflow-y:auto;height:30rem;display:block;border-spacing:0;border-collapse:collapse}mat-header-row[_ngcontent-%COMP%], mat-header-cell[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#fff;z-index:1}th[_ngcontent-%COMP%]{font-weight:700;text-align:left;padding:1rem;background-color:#fff!important;border-bottom:1px solid #e0e0e0}td[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid white!important}.mat-elevation-z4[_ngcontent-%COMP%]{border-radius:.5rem}tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.sticky-paginator[_ngcontent-%COMP%]{width:100%;background:#fff;padding:.5rem 0}@media (max-width: 768px){.table-card[_ngcontent-%COMP%]{padding-top:0}}.custom-button[_ngcontent-%COMP%]:focus{outline:3px solid #ffcc00;outline-offset:2px}"]})}return e})()}}]);